rel ?= 1#  0=debug or 1=release (usually 1)
x64 = 1#  32-bit not supported

# ccommon += -DHH_NO_SSE41

ifeq ($(is_mac),1)
  cppinc += -DHH_NO_IMAGE_IO#   to avoid installing libjpeg and libpng; instead just use ffmpeg
  cppinc += -I/opt/X11/include#   for XQuartz X11
  LDFLAGS += -L/opt/X11/lib#      for XQuartz X11
  cppinc += -Wno-variadic-macros# ignore warning in <X11/Xlib.h>
  STD_CXX ?= -std=c++14
  cppinc += -DHH_NO_DEFINE_STD_CXX14
  cppinc += -DHH_NO_DEFINE_STD_INDEX_SEQUENCE
  CC = clang#  set default choice of compiler (clang or gcc); override using "make CC=new ..."
  omit_omp = 1
else
  CC = gcc#  set default choice of compiler (clang or gcc); override using "make CC=new ..."
  STD_CXX ?= -std=c++11#  override default -std=c++14; more portable
endif

include $(dir $(lastword $(MAKEFILE_LIST)))/Makefile_base_$(CC)

ifeq ($(CC),gcc)
  # Perhaps test for existence of library file /usr/lib$(if $(x64:0=),64,)/libpthread.so.0
  LDFLAGS += -pthread  # necessary with gcc for std::thread in VideoViewer.cpp
endif

gfx_libs ?= -lGLU -lGL -lX11#  -lXext
